{"ast":null,"code":"var _jsxFileName = \"D:\\\\reactjscwh\\\\newsapp\\\\src\\\\components\\\\News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor(props) {\n    super(props);\n\n    this.capitalizeFirstLetter = string => {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    this.handlePrevClick = async () => {\n      this.setState({\n        page: this.state.page - 1\n      });\n      this.updateNews();\n    };\n\n    this.handleNextClick = async () => {\n      this.setState({\n        page: this.state.page + 1\n      });\n      this.updateNews();\n    };\n\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1\n    };\n    document.title = `${this.capitalizeFirstLetter(this.props.category)} - NewsMonkey`;\n  }\n\n  async updateNews() {\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=dbe57b028aeb41e285a226a94865f7a7&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    this.setState({\n      articles: parsedData.articles,\n      totalResults: parsedData.totalResults,\n      loading: false\n    });\n  }\n\n  async componentDidMount() {\n    this.updateNews();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        style: {\n          margin: '35px 0px'\n        },\n        children: [\"NewsMonkey - Top \", this.capitalizeFirstLetter(this.props.category), \" Headlines\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: this.state.items.length,\n          next: this.fetchMoreData,\n          hasMore: true,\n          loader: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), this.state.articles.map(element => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(NewsItem, {\n              title: element.title ? element.title : \"\",\n              description: element.description ? element.description : \"\",\n              imageUrl: element.urlToImage,\n              newsUrl: element.url,\n              author: element.author,\n              date: element.publishedAt,\n              source: element.source.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)\n          }, element.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 32\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page <= 1,\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.handlePrevClick,\n          children: \" \\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize),\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.handleNextClick,\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nNews.defaultProps = {\n  country: 'in',\n  pageSize: 8,\n  category: 'general'\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};\nexport default News; // import React, { Component } from 'react'\n// import NewsItem from './NewsItem'\n// export class News extends Component {\n//     constructor() {\n//         super();\n//         this.state = {\n//                 articles: [],\n//                 laoding: false,\n//                 page:1\n//         }\n//     }\n//        async componentDidMount(){\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=1&pageSize=${this.props.pageSize}`;\n//         let data = await fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({articles: parsedData.articles, totalResults: parsedData.totalResults})\n//      }\n//      handlePrevClick = async()=>{\n//        console.log(\"Previous\");\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n//         let data = await  fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({\n//         page: this.state.page - 1,\n//         articles: parsedData.articles})\n//      }\n//      handleNextClick = async()=>{\n//         console.log(\"Next\");\n//         if(this.state.page + 1 > Math.ceil(this.state.totalResults/20)){\n//         } \n//         else{\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n//         let data = await  fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({\n//         page: this.state.page + 1,\n//         articles: parsedData.articles\n//       })\n// }\n// }\n//     render() {\n//         return (\n//             <div className=\"container my-3\">\n//                  <h1 className=\"text-center\" style={{margin: '35px 0px'}}>NewsMonkey - Top Headlines</h1>\n//                  {this.state.loading && <spinner/>}\n//                 <div className=\"row\">\n//                 {this.state.articles.map((element)=>{\n//                   return   <div className=\"col-md-4\" key={element.url}>\n//                     <NewsItem  title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageurl={element.urlToImage} newsurl={element.url}/>\n//                     </div>\n//                 })}                                           \n//                 </div>\n//                 <div className=\"conatiner d-flex justify-content-between\">\n//                 <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\n//                 <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n// export default News","map":{"version":3,"sources":["D:/reactjscwh/newsapp/src/components/News.js"],"names":["React","Component","NewsItem","Spinner","PropTypes","News","constructor","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handlePrevClick","setState","page","state","updateNews","handleNextClick","articles","loading","document","title","category","url","country","pageSize","data","fetch","parsedData","json","totalResults","componentDidMount","render","margin","items","length","fetchMoreData","map","element","description","urlToImage","author","publishedAt","source","name","Math","ceil","defaultProps","propTypes","number"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAGA,OAAO,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAehCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAHnBC,qBAGmB,GAHMC,MAAD,IAAW;AAC/B,aAAOA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,MAAM,CAACG,KAAP,CAAa,CAAb,CAAxC;AACD,KACgB;;AAAA,SA0BnBC,eA1BmB,GA0BD,YAAY;AAC1B,WAAKC,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,IAAX,GAAkB;AAA1B,OAAd;AACA,WAAKE,UAAL;AACH,KA7BkB;;AAAA,SA+BnBC,eA/BmB,GA+BD,YAAY;AAC1B,WAAKJ,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,IAAX,GAAkB;AAA1B,OAAd;AACA,WAAKE,UAAL;AACH,KAlCkB;;AAEf,SAAKD,KAAL,GAAa;AACTG,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,OAAO,EAAE,KAFA;AAGTL,MAAAA,IAAI,EAAE;AAHG,KAAb;AAKAM,IAAAA,QAAQ,CAACC,KAAT,GAAkB,GAAE,KAAKd,qBAAL,CAA2B,KAAKD,KAAL,CAAWgB,QAAtC,CAAgD,eAApE;AACH;;AAEe,QAAVN,UAAU,GAAG;AACf,UAAMO,GAAG,GAAI,gDAA+C,KAAKjB,KAAL,CAAWkB,OAAQ,aAAY,KAAKlB,KAAL,CAAWgB,QAAS,iDAAgD,KAAKP,KAAL,CAAWD,IAAK,aAAY,KAAKR,KAAL,CAAWmB,QAAS,EAA/M;AACA,SAAKZ,QAAL,CAAc;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,QAAIO,IAAI,GAAG,MAAMC,KAAK,CAACJ,GAAD,CAAtB;AACA,QAAIK,UAAU,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;AACA,SAAKhB,QAAL,CAAc;AACVK,MAAAA,QAAQ,EAAEU,UAAU,CAACV,QADX;AAEVY,MAAAA,YAAY,EAAEF,UAAU,CAACE,YAFf;AAGVX,MAAAA,OAAO,EAAE;AAHC,KAAd;AAMH;;AACsB,QAAjBY,iBAAiB,GAAG;AACtB,SAAKf,UAAL;AACH;;AAYDgB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAA4B,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAnC;AAAA,wCAA6E,KAAK1B,qBAAL,CAA2B,KAAKD,KAAL,CAAWgB,QAAtC,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,gCACA,QAAC,cAAD;AACA,UAAA,UAAU,EAAE,KAAKP,KAAL,CAAWmB,KAAX,CAAiBC,MAD7B;AAEA,UAAA,IAAI,EAAE,KAAKC,aAFX;AAGA,UAAA,OAAO,EAAE,IAHT;AAIA,UAAA,MAAM,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,gBADA,EAQK,KAAKrB,KAAL,CAAWG,QAAX,CAAoBmB,GAApB,CAAyBC,OAAD,IAAa;AAClC,8BAAO;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACH,QAAC,QAAD;AAAU,cAAA,KAAK,EAAEA,OAAO,CAACjB,KAAR,GAAgBiB,OAAO,CAACjB,KAAxB,GAAgC,EAAjD;AAAqD,cAAA,WAAW,EAAEiB,OAAO,CAACC,WAAR,GAAsBD,OAAO,CAACC,WAA9B,GAA4C,EAA9G;AAAkH,cAAA,QAAQ,EAAED,OAAO,CAACE,UAApI;AAAgJ,cAAA,OAAO,EAAEF,OAAO,CAACf,GAAjK;AAAsK,cAAA,MAAM,EAAEe,OAAO,CAACG,MAAtL;AAA8L,cAAA,IAAI,EAAEH,OAAO,CAACI,WAA5M;AAAyN,cAAA,MAAM,EAAEJ,OAAO,CAACK,MAAR,CAAeC;AAAhP;AAAA;AAAA;AAAA;AAAA;AADG,aAA+BN,OAAO,CAACf,GAAvC;AAAA;AAAA;AAAA;AAAA,kBAAP;AAIH,SALA,CARL;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAmBI;AAAK,QAAA,SAAS,EAAC,0CAAf;AAAA,gCACI;AAAQ,UAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWD,IAAX,IAAmB,CAArC;AAAwC,UAAA,IAAI,EAAC,QAA7C;AAAsD,UAAA,SAAS,EAAC,cAAhE;AAA+E,UAAA,OAAO,EAAE,KAAKF,eAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,QAAQ,EAAE,KAAKG,KAAL,CAAWD,IAAX,GAAkB,CAAlB,GAAsB+B,IAAI,CAACC,IAAL,CAAU,KAAK/B,KAAL,CAAWe,YAAX,GAA0B,KAAKxB,KAAL,CAAWmB,QAA/C,CAAxC;AAAkG,UAAA,IAAI,EAAC,QAAvG;AAAgH,UAAA,SAAS,EAAC,cAA1H;AAAyI,UAAA,OAAO,EAAE,KAAKR,eAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2BH;;AA/E+B;AAAvBb,I,CACF2C,Y,GAAe;AAClBvB,EAAAA,OAAO,EAAE,IADS;AAElBC,EAAAA,QAAQ,EAAE,CAFQ;AAGlBH,EAAAA,QAAQ,EAAE;AAHQ,C;AADblB,I,CAOF4C,S,GAAY;AACfxB,EAAAA,OAAO,EAAErB,SAAS,CAACK,MADJ;AAEfiB,EAAAA,QAAQ,EAAEtB,SAAS,CAAC8C,MAFL;AAGf3B,EAAAA,QAAQ,EAAEnB,SAAS,CAACK;AAHL,C;AA2EvB,eAAeJ,IAAf,C,CAiBA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport class News extends Component {\r\n    static defaultProps = {\r\n        country: 'in',\r\n        pageSize: 8,\r\n        category: 'general',\r\n    }\r\n\r\n    static propTypes = {\r\n        country: PropTypes.string,\r\n        pageSize: PropTypes.number,\r\n        category: PropTypes.string,\r\n    }\r\n    capitalizeFirstLetter = (string)=> {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n      }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            articles: [],\r\n            loading: false,\r\n            page: 1\r\n        }\r\n        document.title = `${this.capitalizeFirstLetter(this.props.category)} - NewsMonkey`;\r\n    }\r\n\r\n    async updateNews() {\r\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=dbe57b028aeb41e285a226a94865f7a7&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n        this.setState({ loading: true });\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json() \r\n        this.setState({\r\n            articles: parsedData.articles,\r\n            totalResults: parsedData.totalResults,\r\n            loading: false\r\n        })\r\n\r\n    }\r\n    async componentDidMount() {\r\n        this.updateNews();\r\n    }\r\n\r\n    handlePrevClick = async () => {\r\n        this.setState({ page: this.state.page - 1 });\r\n        this.updateNews();\r\n    }\r\n\r\n    handleNextClick = async () => {\r\n        this.setState({ page: this.state.page + 1 });\r\n        this.updateNews()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container my-3\">\r\n                <h1 className=\"text-center\" style={{ margin: '35px 0px' }}>NewsMonkey - Top {this.capitalizeFirstLetter(this.props.category)} Headlines</h1>\r\n                {/* {this.state.loading && <Spinner />} */}\r\n                <div className=\"row\">\r\n                <InfiniteScroll\r\n                dataLength={this.state.items.length}\r\n                next={this.fetchMoreData}\r\n                hasMore={true}\r\n                loader={<h4>Loading...</h4>}\r\n                >\r\n                     </InfiniteScroll>\r\n                    {this.state.articles.map((element) => {\r\n                        return <div className=\"col-md-4\" key={element.url}>\r\n                            <NewsItem title={element.title ? element.title : \"\"} description={element.description ? element.description : \"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\r\n                        </div>\r\n                        \r\n                    })}\r\n                </div>\r\n                \r\n                <div className=\"container d-flex justify-content-between\">\r\n                    <button disabled={this.state.page <= 1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\r\n                    <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n                </div>\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { Component } from 'react'\r\n// import NewsItem from './NewsItem'\r\n\r\n// export class News extends Component {\r\n    \r\n//     constructor() {\r\n//         super();\r\n//         this.state = {\r\n//                 articles: [],\r\n//                 laoding: false,\r\n//                 page:1\r\n//         }\r\n//     }\r\n\r\n\r\n//        async componentDidMount(){\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=1&pageSize=${this.props.pageSize}`;\r\n//         let data = await fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({articles: parsedData.articles, totalResults: parsedData.totalResults})\r\n//      }\r\n\r\n//      handlePrevClick = async()=>{\r\n//        console.log(\"Previous\");\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n//         let data = await  fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({\r\n//         page: this.state.page - 1,\r\n//         articles: parsedData.articles})\r\n\r\n\r\n//      }\r\n\r\n//      handleNextClick = async()=>{\r\n//         console.log(\"Next\");\r\n//         if(this.state.page + 1 > Math.ceil(this.state.totalResults/20)){\r\n\r\n//         } \r\n//         else{\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\r\n//         let data = await  fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({\r\n//         page: this.state.page + 1,\r\n//         articles: parsedData.articles\r\n//       })\r\n// }\r\n// }\r\n\r\n\r\n\r\n\r\n//     render() {\r\n//         return (\r\n//             <div className=\"container my-3\">\r\n//                  <h1 className=\"text-center\" style={{margin: '35px 0px'}}>NewsMonkey - Top Headlines</h1>\r\n//                  {this.state.loading && <spinner/>}\r\n//                 <div className=\"row\">\r\n//                 {this.state.articles.map((element)=>{\r\n//                   return   <div className=\"col-md-4\" key={element.url}>\r\n//                     <NewsItem  title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageurl={element.urlToImage} newsurl={element.url}/>\r\n//                     </div>\r\n//                 })}                                           \r\n//                 </div>\r\n//                 <div className=\"conatiner d-flex justify-content-between\">\r\n//                 <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\r\n//                 <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// export default News\r\n"]},"metadata":{},"sourceType":"module"}