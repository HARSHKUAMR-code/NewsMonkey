{"ast":null,"code":"import _regeneratorRuntime from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/reactjscwh/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.handlePrevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page-1});_this.updateNews();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({page:_this.state.page+1});_this.updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.fetchMoreData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({page:_this.state.page+1});url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=d093053d72bc40248998159804e0e67d&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;_this.setState({articles:_this.state.articles.concat(parsedData.articles),totalResults:parsedData.totalResults});case 9:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={articles:[],loading:true,page:1,totalResults:0};document.title=\"\".concat(_this.capitalizeFirstLetter(_this.props.category),\" - NewsMonkey\");return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=d093053d72bc40248998159804e0e67d&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context4.next=4;return fetch(url);case 4:data=_context4.sent;_context4.next=7;return data.json();case 7:parsedData=_context4.sent;this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 9:case\"end\":return _context4.stop();}}},_callee4,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:this.updateNews();case 1:case\"end\":return _context5.stop();}}},_callee5,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{margin:'65px 0px'},children:[\"NewsMonkey - Top \",this.capitalizeFirstLetter(this.props.category),\" Headlines\"]}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.articles.length,next:this.fetchMoreData,hasMore:this.state.articles.length!==this.state.totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})})})]});}}]);return News;}(Component);News.defaultProps={country:'in',pageSize:8,category:'general'};export default News;// import React, { Component } from 'react'\n// import NewsItem from './NewsItem'\n// export class News extends Component {\n//     constructor() {\n//         super();\n//         this.state = {\n//                 articles: [],\n//                 laoding: false,\n//                 page:1\n//         }\n//     }\n//        async componentDidMount(){\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=1&pageSize=${this.props.pageSize}`;\n//         let data = await fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({articles: parsedData.articles, totalResults: parsedData.totalResults})\n//      }\n//      handlePrevClick = async()=>{\n//        console.log(\"Previous\");\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n//         let data = await  fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({\n//         page: this.state.page - 1,\n//         articles: parsedData.articles})\n//      }\n//      handleNextClick = async()=>{\n//         console.log(\"Next\");\n//         if(this.state.page + 1 > Math.ceil(this.state.totalResults/20)){\n//         } \n//         else{\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n//         let data = await  fetch(url);\n//         let parsedData = await data.json()\n//         console.log(parsedData);\n//         this.setState({\n//         page: this.state.page + 1,\n//         articles: parsedData.articles\n//       })\n// }\n// }\n//     render() {\n//         return (\n//             <div className=\"container my-3\">\n//                  <h1 className=\"text-center\" style={{margin: '35px 0px'}}>NewsMonkey - Top Headlines</h1>\n//                  {this.state.loading && <spinner/>}\n//                 <div className=\"row\">\n//                 {this.state.articles.map((element)=>{\n//                   return   <div className=\"col-md-4\" key={element.url}>\n//                     <NewsItem  title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageurl={element.urlToImage} newsurl={element.url}/>\n//                     </div>\n//                 })}                                           \n//                 </div>\n//                 <div className=\"conatiner d-flex justify-content-between\">\n//                 <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\n//                 <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n// export default News","map":{"version":3,"sources":["D:/reactjscwh/newsapp/src/components/News.js"],"names":["React","Component","NewsItem","Spinner","InfiniteScroll","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handlePrevClick","setState","page","state","updateNews","handleNextClick","fetchMoreData","url","country","category","pageSize","fetch","data","json","parsedData","articles","concat","totalResults","loading","document","title","margin","length","map","element","description","urlToImage","author","publishedAt","source","name","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nexport class News extends Component {\r\n    static defaultProps = {\r\n        country: 'in',\r\n        pageSize: 8,\r\n        category: 'general',\r\n    }\r\n\r\n    static propTypes = {\r\n        country: PropTypes.string,\r\n        pageSize: PropTypes.number,\r\n        category: PropTypes.string,\r\n    }\r\n    capitalizeFirstLetter = (string) => {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            articles: [],\r\n            loading: true,\r\n            page: 1,\r\n            totalResults: 0\r\n        }\r\n        document.title = `${this.capitalizeFirstLetter(this.props.category)} - NewsMonkey`;\r\n    }\r\n\r\n    async updateNews() {\r\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=d093053d72bc40248998159804e0e67d&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n        this.setState({ loading: true });\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json()\r\n        this.setState({\r\n            articles: parsedData.articles,\r\n            totalResults: parsedData.totalResults,\r\n            loading: false, \r\n        })\r\n\r\n    }\r\n    async componentDidMount() {\r\n        this.updateNews();\r\n    }\r\n\r\n    handlePrevClick = async () => {\r\n        this.setState({ page: this.state.page - 1 });\r\n        this.updateNews();\r\n    }\r\n\r\n    handleNextClick = async () => {\r\n        this.setState({ page: this.state.page + 1 });\r\n        this.updateNews()\r\n    }\r\n\r\n    fetchMoreData = async () => {  \r\n        this.setState({page: this.state.page + 1})\r\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=d093053d72bc40248998159804e0e67d&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json()\r\n        this.setState({\r\n            articles: this.state.articles.concat(parsedData.articles),\r\n            totalResults: parsedData.totalResults\r\n        })\r\n      };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <h1 className=\"text-center\" style={{ margin: '65px 0px' }}>NewsMonkey - Top {this.capitalizeFirstLetter(this.props.category)} Headlines</h1>\r\n                {this.state.loading && <Spinner />}\r\n                <InfiniteScroll\r\n                    dataLength={this.state.articles.length}\r\n                    next={this.fetchMoreData}\r\n                    hasMore={this.state.articles.length !== this.state.totalResults}\r\n                    loader={<Spinner/>}\r\n                > \r\n                    <div className=\"container\">\r\n                         \r\n                    <div className=\"row\">\r\n                        {this.state.articles.map((element) => {\r\n                            return <div className=\"col-md-4\" key={element.url}>\r\n                                <NewsItem title={element.title ? element.title : \"\"} description={element.description ? element.description : \"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    </div> \r\n                </InfiniteScroll>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { Component } from 'react'\r\n// import NewsItem from './NewsItem'\r\n\r\n// export class News extends Component {\r\n    \r\n//     constructor() {\r\n//         super();\r\n//         this.state = {\r\n//                 articles: [],\r\n//                 laoding: false,\r\n//                 page:1\r\n//         }\r\n//     }\r\n\r\n\r\n//        async componentDidMount(){\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=1&pageSize=${this.props.pageSize}`;\r\n//         let data = await fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({articles: parsedData.articles, totalResults: parsedData.totalResults})\r\n//      }\r\n\r\n//      handlePrevClick = async()=>{\r\n//        console.log(\"Previous\");\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n//         let data = await  fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({\r\n//         page: this.state.page - 1,\r\n//         articles: parsedData.articles})\r\n\r\n\r\n//      }\r\n\r\n//      handleNextClick = async()=>{\r\n//         console.log(\"Next\");\r\n//         if(this.state.page + 1 > Math.ceil(this.state.totalResults/20)){\r\n\r\n//         } \r\n//         else{\r\n//         let url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=63dc337cc4e340669e1b87b02cef33f2&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\r\n//         let data = await  fetch(url);\r\n//         let parsedData = await data.json()\r\n//         console.log(parsedData);\r\n//         this.setState({\r\n//         page: this.state.page + 1,\r\n//         articles: parsedData.articles\r\n//       })\r\n// }\r\n// }\r\n\r\n\r\n\r\n\r\n//     render() {\r\n//         return (\r\n//             <div className=\"container my-3\">\r\n//                  <h1 className=\"text-center\" style={{margin: '35px 0px'}}>NewsMonkey - Top Headlines</h1>\r\n//                  {this.state.loading && <spinner/>}\r\n//                 <div className=\"row\">\r\n//                 {this.state.articles.map((element)=>{\r\n//                   return   <div className=\"col-md-4\" key={element.url}>\r\n//                     <NewsItem  title={element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageurl={element.urlToImage} newsurl={element.url}/>\r\n//                     </div>\r\n//                 })}                                           \r\n//                 </div>\r\n//                 <div className=\"conatiner d-flex justify-content-between\">\r\n//                 <button disabled={this.state.page<=1} type=\"button\" className=\"btn btn-dark\" onClick={this.handlePrevClick}> &larr; Previous</button>\r\n//                 <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" className=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// export default News\r\n"]},"metadata":{},"sourceType":"module"}